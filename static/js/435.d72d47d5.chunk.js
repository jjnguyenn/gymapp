"use strict";(self.webpackChunkgym_buddy=self.webpackChunkgym_buddy||[]).push([[435],{816:(e,t,s)=>{s.r(t),s.d(t,{default:()=>c});var a=s(43),r=s(447),l=s(472),n=s(948),i=s(579);const c=function(){const{user:e,isAuthenticated:t}=(0,r.WB)(),[s,c]=(0,a.useState)(!1),[d,o]=(0,a.useState)("lbs"),[g,u]=(0,a.useState)("ft-in"),[h,m]=(0,a.useState)({message:"",type:""});return(0,a.useEffect)((()=>{const s=localStorage.getItem("gymapp_settings");if(s){var a,r,i;const e=JSON.parse(s);c(null!==(a=e.darkMode)&&void 0!==a&&a),o(null!==(r=e.unit)&&void 0!==r?r:"lbs"),u(null!==(i=e.heightUnit)&&void 0!==i?i:"cm")}if(t&&e){(async()=>{try{const r=(0,l.H9)(n.A,"settings",e.sub),i=await(0,l.x7)(r);if(i.exists()){var t,s,a;const e=i.data();c(null!==(t=e.darkMode)&&void 0!==t&&t),o(null!==(s=e.unit)&&void 0!==s?s:"lbs"),u(null!==(a=e.heightUnit)&&void 0!==a?a:"cm"),localStorage.setItem("gymapp_settings",JSON.stringify(e))}}catch(r){console.error("Error loading settings from Firestore:",r)}})()}}),[t,e]),(0,i.jsxs)("div",{className:"max-w-xl mx-auto p-6 bg-white dark:bg-gray-800 rounded-lg shadow-md mt-8 space-y-6",children:[h.message&&(0,i.jsx)("div",{className:("success"===h.type?"bg-green-500":"bg-red-500")+" text-white p-4 rounded-lg mb-6",children:h.message}),(0,i.jsx)("h2",{className:"text-2xl font-bold text-teal-600",children:"Settings"}),(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsx)("label",{className:"text-teal-700",children:"Dark Mode"}),(0,i.jsx)("input",{type:"checkbox",checked:s,onChange:()=>c(!s)})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"text-teal-700 block mb-1",children:"Preferred Units"}),(0,i.jsxs)("select",{value:d,onChange:e=>o(e.target.value),className:"w-full border rounded p-2 bg-white text-gray-900 dark:bg-gray-700 dark:text-gray-100 dark:border-gray-600",children:[(0,i.jsx)("option",{value:"lbs",children:"Pounds (lbs)"}),(0,i.jsx)("option",{value:"kg",children:"Kilograms (kg)"})]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"text-teal-700 block mb-1",children:"Preferred Height Unit"}),(0,i.jsxs)("select",{value:g,onChange:e=>u(e.target.value),className:"w-full border rounded p-2 bg-white text-gray-900 dark:bg-gray-700 dark:text-gray-100 dark:border-gray-600",children:[(0,i.jsx)("option",{value:"cm",children:"Centimeters (cm)"}),(0,i.jsx)("option",{value:"ft-in",children:"Feet (ft)"})]})]}),(0,i.jsx)("button",{onClick:async()=>{const a={darkMode:s,unit:d,heightUnit:g};if(localStorage.setItem("gymapp_settings",JSON.stringify(a)),t&&e)try{await(0,l.BN)((0,l.H9)(n.A,"settings",e.sub),a,{merge:!0}),m({message:"Settings saved successfully!",type:"success"})}catch(r){console.error("Error saving settings:",r),m({message:"Error saving settings.",type:"error"})}else m({message:"Settings saved locally only.",type:"success"})},className:"w-full bg-teal-600 text-white p-2 rounded",children:"Save Settings"})]})}}}]);
//# sourceMappingURL=435.d72d47d5.chunk.js.map