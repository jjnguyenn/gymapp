"use strict";(self.webpackChunkgym_buddy=self.webpackChunkgym_buddy||[]).push([[272],{272:(e,t,a)=>{a.r(t),a.d(t,{default:()=>x});var i=a(43),s=a(285),d=a(625),n=a(805),l=a(807),r=a(472),o=a(948),c=a(447),u=a(579);const x=()=>{const{user:e,isAuthenticated:t}=(0,c.WB)(),[a,x]=(0,i.useState)([]),[h,b]=(0,i.useState)([]),[m,p]=(0,i.useState)("dayGridMonth"),[g,y]=(0,i.useState)("");(0,i.useEffect)((()=>{if(!t||!e)return;(async()=>{const t=(0,r.rJ)(o.A,"users",e.sub,"calendar"),a=(await(0,r.GG)(t)).docs.map((e=>({id:e.id,...e.data()})));x(a),b(a)})()}),[t,e]);const v=e=>{p(e)};return(0,u.jsxs)("div",{className:"max-w-5xl mx-auto mt-6 p-4 bg-white dark:bg-gray-900 border dark:border-gray-700 rounded-lg shadow-xl",children:[(0,u.jsx)("h2",{className:"text-3xl font-bold text-teal-600 mb-4 text-center",children:"\ud83d\uddd3\ufe0f Workout Schedule"}),(0,u.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,u.jsxs)("select",{className:"px-4 py-2 border rounded-md bg-teal-100 dark:bg-teal-700 dark:text-white",onChange:e=>{const t=e.target.value;y(t),b(""===t?a:a.filter((e=>e.title.includes(t))))},value:g,children:[(0,u.jsx)("option",{value:"",children:"Filter by Type (All)"}),(0,u.jsx)("option",{value:"\ud83c\udfcb\ufe0f",children:"Strength"}),(0,u.jsx)("option",{value:"\ud83c\udfc3",children:"Cardio"}),(0,u.jsx)("option",{value:"\ud83e\uddd8\u200d\u2640\ufe0f",children:"Yoga"}),(0,u.jsx)("option",{value:"\ud83d\udeb4\u200d\u2642\ufe0f",children:"Cycling"})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("button",{onClick:()=>v("dayGridMonth"),className:"px-4 py-2 mx-2 bg-teal-500 text-white rounded-lg",children:"Month View"}),(0,u.jsx)("button",{onClick:()=>v("timeGridWeek"),className:"px-4 py-2 mx-2 bg-teal-500 text-white rounded-lg",children:"Week View"}),(0,u.jsx)("button",{onClick:()=>v("timeGridDay"),className:"px-4 py-2 mx-2 bg-teal-500 text-white rounded-lg",children:"Day View"})]})]}),(0,u.jsx)(s.A,{plugins:[d.A,n.A,l.Ay],initialView:m,events:h,dateClick:async t=>{const i=prompt("Enter workout (e.g. \ud83c\udfc3 Cardio, \ud83c\udfcb\ufe0f Chest Day)");if(i){const s={title:i,date:t.dateStr},d=await(0,r.gS)((0,r.rJ)(o.A,"users",e.sub,"calendar"),s);x([...a,{...s,id:d.id}]),b([...h,{...s,id:d.id}])}},eventClick:async t=>{window.confirm(`Delete "${t.event.title}"?`)&&(await(0,r.kd)((0,r.H9)(o.A,"users",e.sub,"calendar",t.event.id)),x(a.filter((e=>e.id!==t.event.id))),b(h.filter((e=>e.id!==t.event.id))))},eventDrop:async t=>{const{event:a}=t,i=a.startStr,s=a.id;await(0,r.mZ)((0,r.H9)(o.A,"users",e.sub,"calendar",s),{date:i}),x((e=>e.map((e=>e.id===s?{...e,date:i}:e)))),b((e=>e.map((e=>e.id===s?{...e,date:i}:e))))},editable:!0,eventDisplay:"block",height:"auto",eventMouseEnter:e=>{const t=e.event.title,a=e.event.start.toLocaleString();e.el.setAttribute("title",`${t} - ${a}`)}})]})}}}]);
//# sourceMappingURL=272.41f2de54.chunk.js.map