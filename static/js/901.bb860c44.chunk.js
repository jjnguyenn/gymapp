"use strict";(self.webpackChunkgym_buddy=self.webpackChunkgym_buddy||[]).push([[901],{901:(e,s,a)=>{a.r(s),a.d(s,{default:()=>n});var t=a(43),l=a(447),r=a(948),i=a(472),c=a(579);const n=()=>{const{user:e,isAuthenticated:s}=(0,l.WB)(),[a,n]=(0,t.useState)(""),[d,o]=(0,t.useState)("male"),[u,m]=(0,t.useState)(""),[x,h]=(0,t.useState)(""),[g,b]=(0,t.useState)("1.2"),[p,v]=(0,t.useState)(null),[f,y]=(0,t.useState)(null),[j,N]=(0,t.useState)(null),[k,w]=(0,t.useState)("metric"),[S,C]=(0,t.useState)(!1);(0,t.useEffect)((()=>{(async()=>{try{if(s&&null!==e&&void 0!==e&&e.sub){const s=(0,i.H9)(r.A,"settings",e.sub),a=await(0,i.x7)(s);if(a.exists()){const e=a.data();e.units&&w(e.units)}}else{const e=localStorage.getItem("settings");if(e){const s=JSON.parse(e);s.units&&w(s.units)}}}catch(a){console.error("Error loading settings:",a)}finally{C(!0)}})()}),[s,e]),(0,t.useEffect)((()=>{if(!s){const e=JSON.stringify({units:k});localStorage.setItem("settings",e)}}),[k,s]),(0,t.useEffect)((()=>{(async()=>{if(s&&null!==e&&void 0!==e&&e.sub)try{await(0,i.BN)((0,i.H9)(r.A,"settings",e.sub),{units:k},{merge:!0})}catch(a){console.error("Failed to save settings to Firebase:",a)}})()}),[k,s,e]);return S?(0,c.jsxs)("div",{className:"max-w-2xl mx-auto mt-12 px-6",children:[(0,c.jsx)("h1",{className:"text-3xl font-bold mb-8 text-center text-teal-600",children:"Calorie & BMI Calculator"}),(0,c.jsxs)("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md space-y-4",children:[(0,c.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,c.jsxs)("div",{className:"flex-1",children:[(0,c.jsx)("label",{className:"block mb-1",children:"Age"}),(0,c.jsx)("input",{type:"number",value:a,onChange:e=>n(e.target.value),className:"w-full p-2 border border-gray-300 rounded-md",placeholder:"e.g., 25"})]}),(0,c.jsxs)("div",{className:"flex-1",children:[(0,c.jsx)("label",{className:"block mb-1",children:"Gender"}),(0,c.jsxs)("select",{value:d,onChange:e=>o(e.target.value),className:"w-full p-2 border border-gray-300 rounded-md",children:[(0,c.jsx)("option",{value:"male",children:"Male"}),(0,c.jsx)("option",{value:"female",children:"Female"})]})]})]}),(0,c.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,c.jsxs)("div",{className:"flex-1",children:[(0,c.jsxs)("label",{className:"block mb-1",children:["Height (","metric"===k?"cm":"inches",")"]}),(0,c.jsx)("input",{type:"number",value:u,onChange:e=>m(e.target.value),className:"w-full p-2 border border-gray-300 rounded-md",placeholder:"e.g., "+("metric"===k?"170":"67")})]}),(0,c.jsxs)("div",{className:"flex-1",children:[(0,c.jsxs)("label",{className:"block mb-1",children:["Weight (","metric"===k?"kg":"lbs",")"]}),(0,c.jsx)("input",{type:"number",value:x,onChange:e=>h(e.target.value),className:"w-full p-2 border border-gray-300 rounded-md",placeholder:"e.g., "+("metric"===k?"65":"143")})]})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("label",{className:"block mb-1",children:"Activity Level"}),(0,c.jsxs)("select",{value:g,onChange:e=>b(e.target.value),className:"w-full p-2 border border-gray-300 rounded-md",children:[(0,c.jsx)("option",{value:"1.2",children:"Sedentary (little or no exercise)"}),(0,c.jsx)("option",{value:"1.375",children:"Lightly active (light exercise/sports 1-3 days/week)"}),(0,c.jsx)("option",{value:"1.55",children:"Moderately active (moderate exercise/sports 3-5 days/week)"}),(0,c.jsx)("option",{value:"1.725",children:"Very active (hard exercise/sports 6-7 days a week)"}),(0,c.jsx)("option",{value:"1.9",children:"Extra active (very hard exercise/sports & physical job)"})]})]}),(0,c.jsx)("button",{onClick:()=>{let e=parseFloat(u),s=parseFloat(x),t=parseInt(a);"imperial"===k&&(e*=2.54,s*=.453592);const l="male"===d?10*s+6.25*e-5*t+5:10*s+6.25*e-5*t-161;v(l);const r=l*parseFloat(g);y(Math.round(r));const i=e/100;N((s/(i*i)).toFixed(1))},className:"mt-4 bg-teal-600 hover:bg-teal-700 text-white font-semibold py-3 px-6 rounded-md",children:"Calculate"}),p&&(0,c.jsxs)("div",{className:"mt-6 text-lg font-medium text-gray-700 dark:text-gray-100",children:[(0,c.jsxs)("p",{children:["BMR: ",Math.round(p)," kcal/day"]}),(0,c.jsxs)("p",{children:["Maintenance Calories: ",f," kcal/day"]})]}),j&&(0,c.jsxs)("div",{className:"mt-4 text-lg font-medium text-teal-700 dark:text-teal-300",children:["BMI: ",j]})]})]}):(0,c.jsx)("div",{className:"text-center mt-10 text-lg font-medium",children:"Loading..."})}}}]);
//# sourceMappingURL=901.bb860c44.chunk.js.map